<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>
</head>
<body>
    <form onSubmit="return false;">
        <input type = "text" name="message" value="hello"/>
        <br/><br/>
        <input type="button" value="open" onClick="haha()"/><br>
        <input type="button" value="send" onClick="send(this.form.message.value)"/>
        <hr/>
        <h3>chat</h3>
        <textarea id="responseText" style="width: 800px;height: 300px;"></textarea>
    </form>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="http://static.fornow.com.cn/static/reconnecting-websocket.js" type="text/javascript"></script>
    <script src="../../../js/fornowSocket.js" type="text/javascript"></script>
    <script type="text/javascript">

        var FastSocket = new FastSocket({
            url : "ws://127.0.0.1:9999/",
            authorization : "ZZNLin"
        });

        FastSocket.open({
            onmessage : function(event){
                alert("接收到消息了--->"+event.data);
                console.log(event.data);
            }
        });



        function send(msg){
            FastSocket.send(msg);
        }

        function appendln(text) {
            var ta = document.getElementById('responseText');
            ta.value += text + "\r\n";
        }

        function clear() {
            var ta = document.getElementById('responseText');
            ta.value = "";
        }

    </script>
</body>
</html>